<div class="accordion my-3" id="accordionChosen">
  <div *ngFor="let offer of offerList; index as i">
    <div class="card-header d-flex justify-content-between px-0" id="headingOne" data-toggle="collapse"
      [attr.data-target]="'#SupplierOne'+i" aria-expanded="true" aria-controls="SupplierOne">
      <div class="d-flex justify-content-start align-items-center">
        <span class="btn btn-accent btn-sm" ngbTooltip="Proveedor Triple A" tooltipClass="tooltip--accent"
          placement="top" container="body" *ngIf="offer.tripleA">A</span>
        <div class="d-flex flex-column align-items-start flex-fhd-row align-items-fhd-baseline">
          <h3 class="mb-1 mb-fhd-0 mr-fhd-2">{{offer.name}}</h3>
          <small>CUIT {{offer.cuit}}</small>
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <span class="badge badge__dotted--success" *ngIf="offer.state === 10">Pagado</span>
        <i-chevron-down class="text-light"></i-chevron-down>
      </div>
    </div>

    <div id="SupplierOne{{i}}" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionChosen">
      <div class="card-body px-0">
        <div class="row">
          <div class="col-6 col-lg-12 col-xl-6 col-fhd-3">
            <div class="form-group">
              <small>Calle/Avenida</small>
              <p>{{offer.street}}</p>
            </div>
          </div>
          <div class="col-6 col-lg-4 col-xl-2 col-fhd-1">
            <div class="form-group">
              <small>Número</small>
              <p>{{offer.streetNumber}}</p>
            </div>
          </div>
          <div class="col-6 col-lg-4 col-xl-2 col-fhd-1">
            <div class="form-group">
              <small>Piso/Depto</small>
              <p>{{offer.apartment}}</p>
            </div>
          </div>
          <div class="col-6 col-lg-4 col-xl-2 col-fhd-1">
            <div class="form-group">
              <small>Código postal</small>
              <p>{{offer.postCode}}</p>
            </div>
          </div>
          <div class="col-6 col-xl-6 col-fhd-3">
            <div class="form-group">
              <small for="SupplierssProvince">Provincia</small>
              <p>{{offer.provinceName}}</p>
            </div>
          </div>
          <div class="col-6 col-xl-6 col-fhd-3">
            <div class="form-group">
              <small for="SuppliersLocality">Localidad</small>
              <p>{{offer.localityName}}</p>
            </div>
          </div>
          <div class="col-6 col-xl-6 col-fhd-3">
            <div class="form-group">
              <small>Código de Área</small>
              <p>011</p>
            </div>
          </div>
          <div class="col-6 col-xl-6 col-fhd-3">
            <div class="form-group">
              <small>Teléfono</small>
              <p>{{offer.phone}}</p>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <hr class="divider">
            <h5>Datos del responsable de la cuenta</h5>
          </div>
          <div class="col-6 col-fhd-2">
            <div class="form-group">
              <small>Nombre</small>
              <p>{{offer.responsableName}}</p>
            </div>
          </div>
          <div class="col-6 col-fhd-3">
            <div class="form-group">
              <small>Apellido</small>
              <p>{{offer.responsableLastName}}</p>
            </div>
          </div>
          <div class="col-6 col-lg-12 col-xl-6 col-fhd-3">
            <div class="form-group">
              <small>Correo electrónico</small>
              <p>{{offer.responsableEmail}}</p>
            </div>
          </div>
          <div class="col-3 col-lg-6 col-xl-3 col-fhd-2">
            <div class="form-group">
              <small>Código de Área</small>
              <p>011</p>
            </div>
          </div>
          <div class="col-3 col-lg-6 col-xl-3 col-fhd-2">
            <div class="form-group">
              <small>Teléfono</small>
              <p>{{offer.responsablePhone}}</p>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <hr class="divider">
            <h5>Adjudicación</h5>
          </div>
          <div class="col-4 col-lg-6 col-xl-4 col-fhd-2">
            <div class="form-group">
              <small>Forma de pago</small>
              <p>{{getPayment(offer.payment)}}</p>
            </div>

          </div>
          <div class="col-4 col-lg-6 col-xl-4 col-fhd-2">
            <div class="form-group">
              <small>Plazo de pago</small>
              <p>{{getPaymentPeriod(offer.paymentPeriod)}}</p>
            </div>

          </div>
          <div class="col-4 col-lg-6 col-xl-4 col-fhd-2">
            <div class="form-group">
              <small>Entrega en obra</small>
              <p>{{offer.deliveryOnSiteDateStart}}</p>
            </div>

          </div>
          <div class="col-4 col-lg-6 col-xl-4 col-fhd-2">
            <div class="form-group">
              <small>Costo de envío a cargo de</small>
              <p>{{getShippingCostOwner(offer.shippingCostOwner)}}</p>
            </div>

          </div>
          <div class="col-4 col-lg-6 col-xl-4 col-fhd-2">
            <div class="form-group">
              <small>Peso total</small>
              <p>{{offer.totalWeight }} {{offer.totalWeightUnit}}</p>
            </div>

          </div>
          <div class="col-4 col-lg-6 col-xl-4 col-fhd-2">
            <div class="form-group">
              <small>Volumen total</small>
              <p>{{offer.totalVolume}} cm³</p>
            </div>

          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <div class="table-responsive">
              <table class="table table--simple">
                <thead class="thead-dark">
                  <tr>
                    <th scope="col"></th>
                    <th scope="col">Rubro</th>
                    <th scope="col">Subrubro</th>
                    <th scope="col">Nombre del producto</th>
                    <th scope="col">Unidad de medida</th>
                    <th scope="col">Cantidad</th>
                    <th scope="col">Acción</th>
                  </tr>
                </thead>
                <tbody *ngFor="let item of offer.products; index as i">
                  <tr scope="row">
                    <td class="text-xs">{{ i + 1}}</td>
                    <td>{{item.categoryName}}</td>
                    <td>{{item.subcategoryName}}</td>
                    <td>{{item.name}}</td>
                    <td>{{item.unitName}}</td>
                    <td>{{item.amount}}</td>
                    <td><a class="text-primary" data-toggle="collapse" [attr.data-target]="'#collapseTwoRowCollapse'+i"
                        aria-expanded="false" aria-controls="rowCollapsed1">Ver detalle</a></td>
                  </tr>

                  <tr class="collapse" id="collapseTwoRowCollapse{{i}}">
                    <td colspan="7">
                      <div class="row">
                        <div class="col">
                          <div class="row text-left">
                            <div class="col-6 col-xxl">
                              <div class="form-group">
                                <small>Precio unitario</small>
                                <p>{{item.unitPrice | currency}}</p>
                              </div>
                            </div>
                            <div class="col-6 col-xxl">
                              <div class="form-group">
                                <small>Código postal</small>
                                <p>{{item.postCode}}</p>
                              </div>
                            </div>
                            <div class="col-6 col-xxl">
                              <div class="form-group">
                                <small>Peso</small>
                                <p>{{item.unitPrice }} {{item.unitName}}</p>
                              </div>

                            </div>
                            <div class="col-6 col-xxl">
                              <div class="form-group">
                                <small>Volumen</small>
                                <p>{{item.volume}} cm³</p>
                              </div>

                            </div>
                          </div>
                        </div>

                        <div class="col-auto d-flex align-items-center">
                          <div class="form-group">
                            <h3>{{item.totalPrice | currency}}</h3>
                            <small class="d-flex justify-content-end">Total del Producto</small>
                          </div>
                        </div>
                      </div>
                    </td>
                  </tr>

                </tbody>
              </table>
            </div>

          </div>
        </div>

        <div class="row mt-3">
          <div class="col-auto">
            <small>Subtotal</small>
            <p>{{offer.subtotal | currency}}</p>
          </div>
          <div class="col">
            <small>Costo de envío</small>
            <p>{{offer.shippingCost | currency}}</p>
          </div>
          <div class="ml-auto col text-right">
            <h3 class="mb-0">{{offer.total | currency}}</h3>
            <small>TOTAL</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
